/*
+--------------------------------------------------------------------+
                                                  
                                                  
/-`                                            `-/
dddhso/-`                                `-/oshddd
dddddddddhso/-`                    `-/oshddddddddd
dddddddddddddddhso++++++++++++++oshddddddddddddddd
dddddddddddddddddddddddddddddddddddddddddddddddddd
dddddddddddddddddddddddddddddddddddddddddddddddddd
dddddddddddddddddddddddddddddddddddddddddddddddddd
dddddddddddddddddddddddddddddddddddddddddddddddddd
dddddddddddddddddddddddddddddddddddddddddddddddddd
ddddddddddddds++sdddddddddddddddds++sddddddddddddd
dddddddddddd-    -dddddddddddddd-    -dddddddddddd
dddddddddddd-    -dddddddddddddd-    -dddddddddddd
ddddddddddddds++sdddddddddddddddds++sddddddddddddd
dddddddddddddddddddddddddddddddddddddddddddddddddd
dddddddddddddddddddddddddddddddddddddddddddddddddd
dddddddddddddddddddddddddddddddddddddddddddddddddd
dddddddddddddddddddddddddddddddddddddddddddddddddd
dddddddddddddddddddddddddddddddddddddddddddddddddd
dddddddddddddddddddddddddddddddddddddddddddddddddd


+--------------------------------------------------------------------+

    felixg.io - dateDropper Javascript

    Version: 2.0.0
    Realase: 2025-01-21
    Created by: Felice Gattuso
    Twitter: @felixggi 
    Instagram: @felixggi
    Docs: https://felixg.io/docs/datedropper-javascript
    
+--------------------------------------------------------------------+

*/
let dateDropperSetup={defaultClass:".datedropper-default",languages:{en:{m:{s:["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],f:["January","February","March","April","May","June","July","August","September","October","November","December"]},w:{s:["S","M","T","W","T","F","S"],f:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},labels:{confirm:"%s has been selected. Press enter to confirm.",invalid:"You can't select %s based on calendar options.",select:"Choose date",title:"Datedropper calendar view",expand:"Make calendar larger",collapse:"Make calendar smaller",back:"Back to main years dialog",selected:"%s selected",arrows:"Use keyboard arrows left and right to change it",y:{selector:"Years selector",prev:"Previuous year",next:"Next year"},m:{selector:"Months selector",prev:"Previuous month",next:"Next month"},d:{selector:"Days selector",prev:"Previuous day",next:"Next day"}}}}};!function(){this.dateDropper=function(){let e={};function d(e,d){return[31,e%4==0&&(e%100!=0||e%400==0)?29:28,31,30,31,30,31,31,30,31,30,31][d-1]}function t(e){return e<10?"0"+e:e}function n(e){let d=["th","st","nd","rd"],t=e%100;return e+(d[(t-20)%10]||d[t]||d[0])}function o(e){return Date.parse(e)/1e3}function r(e){if(!e)return!1;let d=[];return("string"==typeof e||e instanceof String)&&(e=e.split(",")),!!Array.isArray(e)&&(e.forEach((function(e){d.push(o(new Date(e)))})),d)}function a(e,d){return!(!e||!d)&&(e.y==d.y&&e.m==d.m&&e.d==d.d)}function i(e){return!!e&&e.y+"/"+t(e.m)+"/"+t(e.d)}function l(e){return!!e&&new Date(i(e))}function s(e){return!!e&&{d:e.getDate(),m:e.getMonth()+1,y:e.getFullYear()}}function c(e){return i(s(e))}function u(e){return!!e&&new Date(e)}function p(e){return s(u(e))}function g(e){return!!e.arr&&e.arr.includes(o(e.date))}function m(e,d){e&&(e.classList.remove("dd--shown"),setTimeout((function(){e.remove(),d&&d()}),300))}function _(e,d){if(!d)return;let t=d.querySelectorAll("."+e);t&&t.forEach((function(d){d.classList.remove(e)}))}function b(e,d){e&&e instanceof HTMLInputElement&&(e.value=d)}function f(e,d){let t=document.createElement(e);return d&&(d.class&&(t.className=d.class),d.html&&(t.innerHTML=d.html),d.attributes&&Object.keys(d.attributes).forEach((function(e){t.setAttribute(e,d.attributes[e])})),d["aria-label"]&&t.setAttribute("aria-label",d["aria-label"]),d.id&&(t.id=d.id)),t}function h(e){e.classList.add("dd--rumble"),setTimeout((function(){e.classList.remove("dd--rumble")}),400)}function w(e,d){for(let t in d)try{d[t].constructor==Object?e[t]=_this.extend(e[t],d[t]):e[t]=d[t]}catch(n){e[t]=d[t]}return e}function v(e,d){e.addEventListener("click",d),e.addEventListener("keydown",(function(e){" "===e.key&&(e.preventDefault(),d())}))}function y(e){e.classList.add("dd--focusable"),e.setAttribute("role","button"),e.setAttribute("tabindex","0"),e.setAttribute("aria-pressed","false")}e.options={format:"y-mm-dd",lang:"en",blocks:["m","d","y"],autoFill:!0,jump:10,loopAll:!0,loopDays:!0,loopMonths:!0,loopYears:!0,highlightWeekend:!0,defaultBehaviour:!0,showArrowsOnHover:!0,expandable:!0},w(e.options,arguments[0]),e.inline=e.options.inline,e.gridFocus=function(d,t){d.gridFocus&&t.removeEventListener("keydown",d.gridFocus);let n=e.isDoubleView(d)?".dd__item:not(.dd--placeholder)":".dd__item";const o=t.querySelector(".dd__body"),r=Array.from(o.querySelectorAll(n));(o.querySelector(".dd--selected")||r[0]).setAttribute("tabindex",0),d.gridFocus=e=>{const d=r.indexOf(document.activeElement);if("Tab"===e.key)return;if(-1===d)return;let t;switch(e.key){case"ArrowLeft":t=(d-1+r.length)%r.length;break;case"ArrowRight":t=(d+1)%r.length;break;case"ArrowUp":t=(d-7+r.length)%r.length;break;case"ArrowDown":t=(d+7)%r.length;break;default:return}r[t].focus(),e.preventDefault()},t.addEventListener("keydown",d.gridFocus)},e.lang=function(e){let d=dateDropperSetup.languages;return d[e.options.lang]||d.en},e.focusize=function(d,t){if(e.inline)return;const n=t.querySelectorAll("[tabindex]:not(disabled)"),o=n[0],r=n[n.length-1];d.trapFocus&&window.removeEventListener("keydown",d.trapFocus),d.trapFocus=function(e){"Tab"===e.key&&(e.shiftKey?document.activeElement===o&&(r.focus(),e.preventDefault()):document.activeElement===r&&(o.focus(),e.preventDefault()))},window.addEventListener("keydown",d.trapFocus),o.focus()},e.setTrigger=function(d){if(d.classList.contains("dd__trigger"))return!1;d.classList.add("dd__trigger"),d instanceof HTMLInputElement&&(d.setAttribute("readonly",!0),d.setAttribute("type","text")),d.setAttribute("aria-haspopup","dialog"),d.setAttribute("aria-expanded","false"),d.setAttribute("aria-controls","datedropper");let t=e.methods(d);e.inline?d.datedropper("show"):(t.triggerFunc=function(){d.classList.contains("dd--focused")||e.open(t)},v(d,t.triggerFunc))},e.destroy=function(d){e.exit(d),d.trigger.removeEventListener("click",d.triggerFunc),delete d.trigger.datedropper,d.options.onDestroy&&d.options.onDestroy(d.trigger)},e.set=function(d,t){w(e.options,t),d.dropdown&&e.open(d)},e.open=function(d){d.trigger.setAttribute("aria-expanded",!0),d.dropdown&&e.exit(d),d.options=e.getOptions(d),d.strings=e.lang(d),e.cleanOptions(d),e.dropdown(d),e.change(d,!0),e.keyCommands(d)},e.keyCommands=function(d){d.inline||(d.keydownListeners,window.removeEventListener("keydown",d.keydownListeners),d.keydownListeners=function(t){"Escape"===t.key&&(t.preventDefault(),e.exit(d)),"Enter"===t.key&&(t.preventDefault(),e.submit(d))},window.addEventListener("keydown",d.keydownListeners))},e.locked=function(e,d){e.primaryButton&&(d?(h(e.primaryButton),e.primaryButton.setAttribute("disabled","")):e.primaryButton.removeAttribute("disabled"))},e.dataOptions=function(e){let d=e.trigger.attributes,t=d.length,n={};for(;t--;){let e=d[t];if(e.value&&e.name.includes("data-dd-opt-")){let d=e.name.replace("data-dd-opt-","").replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,d){return 0===d?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,"").replace("-",""),t=e.value;switch(t){case"true":t=!0;break;case"false":t=!1}n[d]=t}}return n},e.getOptions=function(d){let t=w({},e.options);switch(t=w(t,e.dataOptions(d)),["maxYear","minYear"].forEach((function(e){t[e]=t[e]||(new Date).getFullYear()+("maxYear"==e?50:-50)})),["maxDate","minDate"].forEach((function(e){t[e]="today"==t[e]?c(new Date):t[e]})),t.defaultDate=u(t.defaultDate)||new Date,t.range=t.range||Boolean(t.rangeStart||t.rangeEnd),t.expandedOnly=t.expandedOnly||t.range,t.expandedDefault=t.expandedDefault||t.expandedOnly,t.expandable=t.expandable||t.expandedDefault||t.doubleView,["onlyMonth","onlyYear"].includes(t.preset)&&(t.range=!1,t.defaultBehaviour=!1,t.expandable=!1,t.customClass=(t.customClass||"")+" dd--preset-"+t.preset),t.preset){case"onlyMonth":t.blocks=["m"],t.format=["m","mm","M","MM"].includes(t.format)?t.format:"m";break;case"onlyYear":t.blocks=["y"],t.format="y"}return t},e.fixDate=function(d,t){let n=d.options.maxYear,o=d.options.minYear,r=t.input.getFullYear();if(n&&r>n&&(r=t.fill?n:o),o&&r<o&&(r=t.fill?o:n),t.input.setFullYear(r),d.options.enabledDays){let n=d.options.enabledDays.split(","),o=e.output(d,{input:t.input});n.includes(o.string)||(t.input=u(n[0]))}return t.input},e.cleanOptions=function(d){d.date=e.fixDate(d,{input:d.options.defaultDate,fill:!0}),d.options.rangeStart&&d.options.rangeEnd&&e.valid(d,u(d.options.rangeStart))&&e.valid(d,u(d.options.rangeEnd))&&u(d.options.rangeEnd)>=u(d.options.rangeStart)&&(d.options.range=!0,d.range={a:p(d.options.rangeStart),b:p(d.options.rangeEnd)},d.date=l(d.range.a),d.selected=new Date(c(d.date))),d.options.range||(d.selected=new Date(c(d.date)))},e.output=function(e,d){let r=(d=d||{}).input||e.selected||e.date,a=r.getFullYear(),i=r.getMonth()+1,l=r.getDate(),s=r.getDay(),c={d:l,dd:t(l),m:i,mm:t(i),M:e.strings.m.s[i-1],MM:e.strings.m.f[i-1],y:a,w:s,W:e.strings.w.f[s].substr(0,3),WW:e.strings.w.f[s],S:n(l),U:o(r)};return c.string=(d.format||e.options.format).replace(/\b(d)\b/g,c.d).replace(/\b(dd)\b/g,c.dd).replace(/\b(m)\b/g,c.m).replace(/\b(mm)\b/g,c.mm).replace(/\b(M)\b/g,c.M).replace(/\b(MM)\b/g,c.MM).replace(/\b(y)\b/g,c.y).replace(/\b(w)\b/g,c.w).replace(/\b(W)\b/g,c.W).replace(/\b(WW)\b/g,c.WW).replace(/\b(S)\b/g,c.S).replace(/\b(U)\b/g,c.U),c},e.offset=function(d){let t,n,o=document.querySelectorAll(e.options.selector),r=d.trigger.getBoundingClientRect(),a=d.dropdown.getBoundingClientRect(),i=a.width/2,l=document.documentElement.scrollLeft;if(d.options.range&&2==o.length){let e=o[0].getBoundingClientRect(),d=o[1].getBoundingClientRect(),t=l+e.left;n=t+(l+d.left+d.width-t)/2}else{n=r.left+l+r.width/2}0>n-i&&(n=16+i),n+i+16>window.innerWidth&&(n=window.innerWidth-16-i);let s=document.documentElement.scrollTop,c=r.top+s;const u=document.documentElement.scrollHeight;c+r.height+a.height+16<u?t=c+r.height+16:(t=s+window.innerHeight/2-a.height/2,n=l+window.innerWidth/2),d.dropdown.style.left=n+"px",d.dropdown.style.top=t+"px"},e.navButton=function(d,t){let n=f("div",{class:`dd__nav ${t.class}`,html:e.svg(t.icon)});return t["aria-label"]&&n.setAttribute("aria-label",t["aria-label"]),v(n,(function(){e.move(d,t.key,t.action)})),t.focusable&&y(n),n},e.blockView=function(d,t){let n=f("div",{class:"dd__view",attributes:{"data-key":t.key}});if(t.focusable&&(n.addEventListener("keydown",(function(n){"ArrowUp"!==n.key&&"ArrowDown"!==n.key&&"ArrowLeft"!==n.key&&"ArrowRight"!==n.key||n.preventDefault(),"ArrowLeft"===n.key?e.move(d,t.key,!1):"ArrowRight"===n.key&&e.move(d,t.key,!0)})),n.setAttribute("aria-description",[d.strings.labels[t.key].selector,d.strings.labels.arrows].join(", ")),y(n)),d.options.defaultBehaviour){v(n,(function(){switch(t.key){case"y":e.yearDialog(d);break;case"m":e.monthDialog(d);break;case"d":e.toggleView(d)}}))}return n},e.block=function(d,t){let n=f("div",{class:`dd__block dd--${t}`}),o=e.navButton(d,{key:t,class:"dd--hidden dd--prev",icon:"arrowLeft",action:!1});n.appendChild(o);let r=e.navButton(d,{key:t,class:"dd--hidden dd--next",icon:"arrowRight",action:!0});n.appendChild(r);let a=e.blockView(d,{key:t,focusable:!0});return n.appendChild(a),n},e.toggleView=function(d){d.options.expandable&&(d.expanded=!d.expanded,e.open(d))},e.calendarHeader=function(e){let d=f("div",{class:"dd__header"});for(let t=0;t<=6;t++){let n=t,o=f("div",{class:"dd__item"});e.options.startFromMonday&&(n=n+1==7?0:n+1),o.innerHTML=e.strings.w.s[n],d.appendChild(o)}return d},e.validRange=function(e,d,t){let n=!0,o=(r=d,a=t,Math.round((a-r)/864e5));var r,a;return n&&e.options.minRange&&(n=o>=e.options.minRange),n&&e.options.maxRange&&(n=o<=e.options.maxRange),n},e.setRange=function(d,t){let n=t.date,o=t.item;if(d.selecting){let t=l(d.range.a),r=l(n);if(r>=t){if(!e.validRange(d,t,r))return void h(o);d.range.b=n,d.selecting=!1}else d.range.a=n}else d.range={},d.range.a=n,d.selecting=!0,e.setDate(d,{d:n.d,m:n.m,y:n.y});d.options.onRangeSet&&d.options.onRangeSet(e.prepareOutput(d))},e.calendarDay=function(d,t){let n=l(t.date),r=f("div",{html:'<div class="dd--value">'+t.date.d+"</div>",class:"dd__item "+(t.class||"")});y(r),r.setAttribute("tabindex",-1),r.setAttribute("role","gridcell"),r.setAttribute("data-date",i(t.date)),r.setAttribute("aria-label",i(t.date)),r.setAttribute("aria-selected",!1),e.weekend(d,n.getDay())&&r.classList.add("dd--weekend");let c=a(s(new Date),t.date),u=a(s(d.selected),t.date);if(!u&&c&&r.classList.add("dd--today"),d.options.range&&d.range){if(["a","b"].forEach((function(e){d.range[e]&&a(t.date,d.range[e])&&(d.range.a&&d.range.b&&l(d.range.a)!=l(d.range.b)&&r.classList.add("dd--"+e),r.classList.add("dd--selected"),r.setAttribute("aria-selected",!0))})),d.range.a&&d.range.b){let e=o(l(d.range.a)),t=o(l(d.range.b)),a=o(n);a>e&&a<t&&r.classList.add("dd--point")}}else u&&(r.classList.add("dd--selected"),r.setAttribute("aria-selected",!0));if((!(d.range&&!d.range.b)||e.validRange(d,l(d.range.a),l(t.date)))&&e.valid(d,n)){let n={item:r,date:t.date};if(d.options.onRender&&e.putOnSchema(d,n),v(r,(function(){d.options.range?e.setRange(d,n):e.setDate(d,{d:t.date.d,m:t.date.m,y:t.date.y}),e.change(d,!0),setTimeout((()=>{let e=i(t.date);d.dropdown.querySelector(`[data-date="${e}"]`).focus()}),10)})),d.options.range){let t=function(){e.settingRange(d,n),d.dropdown.classList.add("dd--selecting"),r.classList.add("dd--selecting")},o=function(){_("dd--selecting",d.dropdown),_("dd--starting",d.dropdown),_("dd--perEnd",d.dropdown),_("dd--perStart",d.dropdown)};r.addEventListener("mouseenter",t),r.addEventListener("mouseleave",o),r.addEventListener("focus",t),r.addEventListener("blur",o)}}else r.classList.add("dd--disabled"),r.setAttribute("tabindex",-1);return r},e.putOnSchema=function(e,d){let t={node:d.item,customLabel:function(e){if(d.item.setAttribute("data-dd-tooltip",e.label),e.color){let t=f("div",{class:"dd--color"});t.setAttribute("style","background-color:"+e.color),d.item.appendChild(t)}}};e.CSCHEMA[i(d.date)]=t},e.settingRange=function(d,t){if(d.range&&d.range.a&&!d.range.b&&l(d.range.a)<l(t.date)){let n=t.item.parentNode.querySelector(".dd__item.dd--selected")||t.item.parentNode.querySelector(".dd__body .dd__item:first-of-type");if(e.isDoubleView(d)){let e=t.item.parentNode.parentNode.previousSibling;if(e)if(e.querySelector(".dd__item.dd--selected"))e.classList.add("dd--perEnd");else{l(t.date).getMonth()!=l(d.range.a).getMonth()&&e.classList.add("dd--perStart")}}n.classList.add("dd--starting")}},e.calendarBody=function(t,n){let o=f("div",{class:"dd__body"});o.setAttribute("role","grid");let r=n.date||e.output(t),a=d(r.y,r.m),i=r.y+"/"+r.m+"/01",l=new Date(i);l.setDate(l.getDate()-1);let s=new Date(i);s.setMonth(s.getMonth()+1);let c=42,u=l.getDay()+(t.options.startFromMonday?-1:0);if(6!=u)for(let d=u;d>=0;d--)o.appendChild(e.calendarDay(t,{class:"dd--placeholder dd--before",date:{d:l.getDate()-d,m:l.getMonth()+1,y:l.getFullYear()}})),c--;for(let d=1;d<=a;d++)o.appendChild(e.calendarDay(t,{class:"dd--i",date:{d:d,m:r.m,y:r.y}})),c--;for(let d=1;d<=c;d++)o.appendChild(e.calendarDay(t,{class:"dd--placeholder",date:{d:d,m:s.getMonth()+1,y:s.getFullYear()}}));return o},e.createCalendar=function(d,t){let n=f("div");return n.appendChild(e.calendarHeader(d)),n.appendChild(e.calendarBody(d,t)),e.gridFocus(d,n),n},e.calendar=function(d){let t=d.dropdown.querySelector(".dd__calendar");if(!t)return!1;t.innerHTML="",d.CSCHEMA={};let n=s(d.date);if(t.appendChild(e.createCalendar(d,{date:n})),e.isDoubleView(d)){let o=l(n);o.setMonth(o.getMonth()+1),o=s(o),t.appendChild(e.createCalendar(d,{date:o}))}},e.prepareOutput=function(d){return d.options.range?{a:e.output(d,{input:d.range?l(d.range.a):d.selected}),b:e.output(d,{input:d.range?l(d.range.b||d.range.a):d.selected})}:e.output(d)},e.submit=function(d){e.valid(d)&&(e.save(d,!0),e.exit(d))},e.save=function(d,t){d.options.range?e.saveValues(d):e.saveValue(d),d.options.onChange&&d.options.onChange(e.callbackResponse(d)),t&&d.options.onSubmit&&d.options.onSubmit(e.callbackResponse(d))},e.saveValue=function(d){let t=e.output(d);d.trigger.setAttribute("data-dd-opt-default-date",t.string),b(d.trigger,t.string),d.options.changeValueTo&&b(document.querySelector(d.options.changeValueTo),t.string)},e.saveValues=function(d){d.range&&["a","b"].forEach((function(t,n){let o=d.range[t]||e.defaultCheckout(d,d.range.a);if(o&&(e.els.forEach((function(e){let d="data-dd-opt-range-"+("a"==t?"start":"end");e.setAttribute(d,i(o))})),2==e.els.length&&e.els[n])){let t=e.output(d,{input:l(o)});e.els[n].setAttribute("data-dd-opt-default-date",t.string),b(e.els[n],t.string)}}))},e.defaultCheckout=function(e,d){return e.options.checkout&&((d=l(d)).setDate(d.getDate()+1),d=s(d)),d},e.setDate=function(e,d,t){let n=s(e.selected||e.date);e.selected=new Date((d.y||n.y)+"/"+(d.m||n.m)+"/"+(d.d||n.d)),!t&&e.expanded||(e.date=new Date(c(e.selected)))},e.change=function(d,t){d.dropdown&&(e.fillBlocks(d,{input:d.date}),d.options.expandable&&d.expanded&&e.calendar(d));let n=e.output(d,{input:d.date}),o=e.valid(d);e.locked(d,!o),o&&d.options.autoFill&&e.save(d),d.primaryButton&&d.primaryButton.setAttribute("aria-label",function(e,...d){let t=0;return e.replace(/%[sd]/g,(e=>{const n=d[t++];return"%s"===e?String(n):"%d"===e?parseInt(n,10):e}))}(d.strings.labels[o?"confirm":"invalid"],n.string)),t&&d.expanded&&d.options.onRender&&d.options.onRender(d.CSCHEMA)},e.valid=function(e,d){if(!(d=d||e.selected))return d;let t=!0,n=e.options.enabledDays,a=e.options.disabledDays;t&&!n&&a&&(t=!g({date:d,arr:r(a)})),t&&!a&&n&&(t=g({date:d,arr:r(n)}));let i=e.options.maxDate,l=e.options.minDate;t&&l&&(t=o(d)>=o(l)),t&&i&&(t=o(d)<=o(i));let s=e.options.disabledWeekDays;return t&&s&&(t=!s.includes(d.getDay())),t},e.loopSet=function(e,d){let t=!e.options.loopAll;switch(d){case"y":t=t||!e.options.loopYears;break;case"m":t=t||!e.options.loopMonths;break;case"d":t=t||!e.options.loopDays}return t},e.lockedLoop=function(t,n,o){let r=!0,a=s(t.date);switch(n){case"y":r=e.loopSet(t,"y")&&a.y==(o?t.options.maxYear:t.options.minYear);break;case"m":r=e.loopSet(t,"m")&&a.m==(o?12:1);break;case"d":r=e.loopSet(t,"d")&&a.d==(o?d(a.y,a.m):1)}return r},e.move=function(d,t,n){let o=d.date,r=n?1:-1;if(e.lockedLoop(d,t,n))return!1;switch(t){case"y":o.setFullYear(o.getFullYear()+r);break;case"m":o.setMonth(o.getMonth()+r);break;case"d":o.setDate(o.getDate()+r)}o=e.fixDate(d,{input:o}),d.expanded||(d.selected=new Date(c(d.date))),e.change(d,!0)},e.isDoubleView=function(e){return e.options.doubleView&&window.innerWidth>768?(e.dropdown.classList.add("dd--doubleView"),!0):(e.dropdown.classList.remove("dd--doubleView"),!1)},e.weekend=function(e,d){return e.options.highlightWeekend&&[0,6].includes(d)},e.fillBlocks=function(d){let t=e.output(d,{input:d.date}),n=t.M;if(d.expanded&&e.isDoubleView(d)){let t=new Date(c(d.date));t.setMonth(t.getMonth()+1),t=e.output(d,{input:t}),n=n+" - "+t.M}let o={y:{html:`<div>${t.y}</div>`,label:t.y},m:{html:`<div>${n}</div>`,label:t.MM},d:{html:`<div>${t.dd}</div><div ${e.weekend(d,t.w)?'class="dd--w"':""}>${t.WW}</div>`,label:t.WW+" "+t.dd}};d.options.blocks.forEach((function(e){let t=d.dropdown.querySelectorAll(`[data-key="${e}"]`);t&&t.forEach((function(d){d.innerHTML=o[e].html}))}))},e.monthDialog=function(d){e.dialog(d,{onDom:function(t){for(let n=0;n<=11;n++)t.appendChild(e.monthDialogItem(d,{dialog:t,value:n,timeout:50*n}))}})},e.monthDialogItem=function(d,t){return e.dialogItem(d,{class:"dd__item dd--hidden","aria-label":d.strings.m.f[t.value],html:d.strings.m.s[t.value],timeout:t.timeout,onClick:function(){e.setDate(d,{m:t.value+1},!0),e.change(d,!0),e.exitDialog(d,t.dialog)}})},e.yearDialogItems=function(d,t){let n=0;for(let o=t.min;o<=t.max;o++)if(!t.multiple||t.multiple&&o%t.multiple==0){let r=e.yearDialogItem(d,{dialog:t.dialog,value:o,init:t.init,timeout:50*n});t.dialog.appendChild(r),n++}if(!t.init){let n=e.dialogItem(d,{html:"...",class:"dd__item dd--hidden","aria-label":d.strings.labels.back,timeout:0,onClick:function(){e.exitDialog(d,t.dialog),e.yearDialog(d)}});t.dialog.appendChild(n)}},e.yearDialog=function(d,t){d.options.maxYear-d.options.minYear<20||e.dialog(d,{onDom:function(n){(t=t||{min:d.options.minYear,max:d.options.maxYear,multiple:d.options.jump,init:!0}).dialog=n,e.yearDialogItems(d,t)}})},e.yearDialogItem=function(d,t){return e.dialogItem(d,{html:t.value,class:"dd__item dd--hidden",timeout:t.timeout,onClick:function(){t.init?(e.exitDialog(d,t.dialog),e.yearDialog(d,{min:t.value,max:t.value+10})):(e.setDate(d,{y:t.value},!0),e.change(d,!0),e.exitDialog(d,t.dialog))}})},e.dialogItem=function(e,d){let t=f("div",d);return y(t),d.onClick&&v(t,d.onClick),setTimeout((function(){t.classList.add("dd--shown")}),d.timeout||0),t},e.dialog=function(d,t){let n=f("div",{class:"dd__dialog dd--hidden"});d.dropdown.appendChild(n),d.dropdown.classList.add("dd--dialog-shown"),t.onDom&&t.onDom(n),n.classList.add("dd--shown"),setTimeout((()=>{e.focusize(d,n)}),50)},e.exitDialog=function(d,t){t&&(d.dropdown.classList.remove("dd--dialog-shown"),m(t,(function(){d.dropdown.querySelector(".dd__dialog")||e.focusize(d,d.dropdown)})))},e.dropdownClasses=function(d){let t=["dd__dropdown","dd--hidden"];return d.options.customClass&&t.push(d.options.customClass),d.options.showArrowsOnHover&&t.push("dd--handles-hidden"),e.inline&&t.push("dd--inline"),t.join(" ")},e.footer=function(d){let t=f("div",{class:"dd__footer"});return d.primaryButton=f("div",{class:"dd__primaryButton",html:e.svg("checkmark")}),y(d.primaryButton),v(d.primaryButton,(function(){e.submit(d)})),t.appendChild(d.primaryButton),t},e.dropdown=function(d){if(d.expanded=!(void 0!==d.expanded||!d.options.expandedDefault)||d.expanded,d.dropdown=f("div",{class:e.dropdownClasses(d),id:"datedropper"}),d.dropdown.setAttribute("role","application"),d.dropdown.setAttribute("aria-label",d.strings.labels.title),d.dropdown.setAttribute("aria-modal","true"),d.options.overlay&&(d.overlay=f("div",{class:"dd__overlay dd--hidden"}),document.body.appendChild(d.overlay)),d.options.blocks.forEach((function(t){d.dropdown.appendChild(e.block(d,t))})),e.inline||d.dropdown.appendChild(e.footer(d)),d.options.expandable){if(!d.options.expandedOnly&&!e.inline){let t=f("div",{class:"dd__expandButton",html:d.expanded?e.svg("reduce"):e.svg("expand"),"aria-label":d.strings.labels[d.expanded?"collapse":"expand"]});y(t),v(t,(function(){e.toggleView(d)})),d.dropdown.appendChild(t)}if(d.expanded){d.dropdown.classList.add("dd--expanded"),e.isDoubleView(d);let t=d.dropdown.querySelector(".dd--d");if(t){let e=f("div",{class:"dd__calendar"});t.parentNode.insertBefore(e,t)}}else d.dropdown.classList.add("dd--small")}e.inline?(d.trigger.innerHTML="",d.trigger.appendChild(d.dropdown)):(d.trigger.classList.add("dd--focused"),document.body.appendChild(d.dropdown)),d.onResize=function(t){if(e.inline||e.offset(d),d.expanded&&d.options.doubleView){let e=d.dropdown.classList.contains("dd--doubleView");(window.innerWidth<768&&e||window.innerWidth>768&&!e)&&d.trigger.datedropper("show")}},window.addEventListener("resize",d.onResize),e.inline?(d.onResize(),d.dropdown.classList.add("dd--shown")):(d.onBlur=function(t){(t=t||window.event).target==d.trigger||t.target==d.dropdown||d.dropdown.contains(t.target)||e.exit(d)},document.addEventListener("mousedown",d.onBlur),setTimeout((()=>{d.onResize(),d.dropdown.classList.add("dd--shown"),d.overlay&&d.overlay.classList.add("dd--shown"),setTimeout((()=>{e.focusize(d,d.dropdown)}),50)}),50),d.options.onDropdownOpen&&d.options.onDropdownOpen(e.callbackResponse(d)))},e.svg=function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">'+{arrowLeft:'<path d="m16 4-8 8 8 8"/>',arrowRight:'<path d="m8 4 8 8-8 8"/>',checkmark:'<path d="M2.998 11.049l6.965 6.942 11.035-11"/>',close:'<path d="M5.5 5.5l13 13M18.5 5.5l-13 13"/>',expand:'<g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="2"><path stroke-linecap="square" d="M19 5l-4.643 4.643"/><path d="M12 4h8v8"/><path stroke-linecap="square" d="M5 19l4.643-4.643"/><path d="M12 20H4v-8"/></g>',reduce:'<g fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="2"><path stroke-linecap="square" d="M4 21l6-6"/><path d="M3 14h8v8"/><path stroke-linecap="square" d="M21 3l-6 6"/><g><path d="M22 10h-8V2"/></g></g>'}[e]+"</svg>"},e.exit=function(d){e.inline||(m(d.dropdown),m(d.overlay),d.dropdown=!1,d.options.onDropdownExit&&d.options.onDropdownExit(e.callbackResponse(d)),document.removeEventListener("mousedown",d.onBlur),window.removeEventListener("resize",d.onResize),d.keydownListeners,window.removeEventListener("keydown",d.keydownListeners),d.trigger.classList.remove("dd--focused"),d.trigger.setAttribute("aria-expanded",!1))},e.callbackResponse=function(d){return{trigger:d.trigger,dropdown:d.dropdown,output:e.prepareOutput(d)}},e.methods=function(d){let t={};return t.trigger=d,Object.defineProperty(t.trigger,"datedropper",{value:function(d,n){switch(d){case"show":e.open(t);break;case"hide":e.exit(t);break;case"destroy":e.destroy(t);break;case"set":e.set(t,n)}},configurable:!0}),t};let k=dateDropper.prototype;k.fetch=function(){e.els=document.querySelectorAll(e.options.selector),e.els.length&&e.els.forEach((function(d,t){e.setTrigger(d)}))},k.fetch()};let e=document.createElement("style"),d=':root{--dd-overlay:rgba(0,0,0,.75);--dd-background:#FFFFFF;--dd-text1:#333333;--dd-text2:#FFFFFF;--dd-primary:#f28e22;--dd-gradient:linear-gradient(45deg,#f28e22 0%,#E17D1C 100%);--dd-radius:0.5rem;--dd-shadow:0 0 2.5em rgba(0,0,0,0.1);--dd-range:rgba(0,0,0,0.05);--dd-outline:2px solid blue;--dd-headerBackground:var(--dd-gradient);--dd-headerText:var(--dd-text2);--dd-headerBorder:transparent;--dd-confirmButtonBackground:var(--dd-gradient);--dd-confirmButtonText:var(--dd-text2);--dd-selectedBackground:var(--dd-gradient);--dd-selectedText:var(--dd-text2);--dd-borderColor:rgba(0,0,0,0.1)}@keyframes dd-rumble{0%,to{transform:translate3d(0,0,0)}10%,30%,50%,70%,90%{transform:translate3d(-2px,0,0)}20%,40%,60%,80%{transform:translate3d(2px,0,0)}}.dd__footer{display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}.dd__nav{display:flex;cursor:pointer}.dd__nav svg{width:1em;fill:none;fill-rule:evenodd;stroke:currentColor;stroke-width:3px;transition:stroke-width 0.6s cubic-bezier(0.165,0.84,0.44,1);will-change:stroke-width}.dd__nav:hover svg{stroke-width:5px}.dd__view{cursor:pointer}.dd__block{position:relative;font-weight:bold;z-index:1;display:flex;align-items:center;justify-content:center}.dd__block .dd__view{padding:0.35em;margin:0.25em;border-radius:0.35em;flex:1}.dd__block.dd--d .dd__view{padding:0.75rem 0.35em}.dd__block.dd--d .dd__view>div:first-of-type{font-size:5em;line-height:0.65;margin-bottom:0.125em}.dd__block.dd--d .dd__view>div:last-of-type{font-size:1.15em}.dd__block:focus-within .dd__nav,.dd__block:hover .dd__nav{opacity:0.5;visibility:visible;pointer-events:auto}.dd__block:focus-within .dd__nav:hover,.dd__block:hover .dd__nav:hover{opacity:1}.dd__block:focus-within .dd__view,.dd__block:hover .dd__view{background-color:rgba(0,0,0,0.05)}.dd__block .dd__nav{position:absolute;top:50%;transform:translateY(-50%);width:35%;z-index:1;padding:1em}.dd__block .dd__nav.dd--prev{left:0}.dd__block .dd__nav.dd--next{right:0;justify-content:flex-end}.dd__primaryButton{width:3.5em;height:3.5em;display:flex;align-items:center;justify-content:center;border-top-left-radius:2em;border-top-right-radius:2em;transition:transform 0.6s cubic-bezier(0.165,0.84,0.44,1);will-change:box-shadow,transform;position:relative;margin:0;border-bottom:0;background:var(--dd-confirmButtonBackground);color:var(--dd-confirmButtonText);background-size:150% 150%;background-position:center;overflow:hidden}.dd__primaryButton:before{content:"";pointer-events:none;position:absolute;top:0;left:0;background-color:black;width:100%;height:100%;transition:opacity 0.6s cubic-bezier(0.165,0.84,0.44,1);opacity:0;z-index:-1}.dd__primaryButton svg{fill:none;fill-rule:evenodd;stroke:currentColor;stroke-width:3px;transition:stroke-width 0.6s cubic-bezier(0.165,0.84,0.44,1);will-change:stroke-width;color:currentColor;width:2em}.dd__primaryButton:not([disabled]){cursor:pointer}.dd__primaryButton[disabled]{background:rgba(0,0,0,0.075);color:var(--dd-text1);pointer-events:none}.dd__primaryButton:not([disabled]):focus-visible,.dd__primaryButton:not([disabled]):hover{transform:translateY(0.35em)}.dd__primaryButton:not([disabled]):focus-visible:before,.dd__primaryButton:not([disabled]):hover:before{opacity:0.25}.dd__calendar{display:flex;position:relative}.dd__calendar>div{display:flex;flex-direction:column;transform-origin:top center;padding:0.5rem;width:100%}.dd__calendar .dd__item{position:relative;border-radius:50%;aspect-ratio:1/1;border:1px solid transparent}.dd__calendar .dd__item,.dd__calendar .dd__item .dd--value{display:flex;align-items:center;justify-content:center;position:relative}.dd__calendar .dd__item .dd--value{font-size:0.9em}.dd__calendar .dd__item .dd--color{position:absolute;height:0.5rem;width:2rem;opacity:0.25;border-radius:0.35rem;z-index:-1}.dd__calendar .dd__item[data-dd-tooltip]:after{content:attr(data-dd-tooltip);pointer-events:none;position:absolute;box-shadow:0 0 0.5rem rgba(0,0,0,0.1);border-radius:0.35rem;background-color:var(--dd-text1);color:var(--dd-background);padding:0.5rem 1rem;top:100%;left:50%;transform:translateX(-50%) translateY(-0.5rem);z-index:2;opacity:0;visibility:hidden;transition:opacity 0.6s cubic-bezier(0.165,0.84,0.44,1),pointer-events 0.6s cubic-bezier(0.165,0.84,0.44,1),visibility 0.6s cubic-bezier(0.165,0.84,0.44,1),transform 0.6s cubic-bezier(0.165,0.84,0.44,1)}.dd__calendar .dd__item[data-dd-tooltip]:hover:after{transform:translateX(-50%) translateY(0);opacity:1;visibility:visible}.dd__calendar .dd__body,.dd__calendar .dd__header{display:grid;grid-template-columns:repeat(7,1fr);row-gap:0.25rem}.dd__calendar .dd__header{flex-shrink:0;margin-bottom:0.5rem;border-bottom:1px solid var(--dd-borderColor)}.dd__calendar .dd__header>div{opacity:0.5}.dd__calendar .dd__body{flex:1 1 auto}.dd__calendar .dd__body .dd__item.dd--selected{background:var(--dd-selectedBackground);background-size:150% 150%;background-position:center;color:var(--dd-selectedText);position:relative;z-index:1;transform:scale(1.25)}.dd__calendar .dd__body .dd__item.dd--selected .dd--value{opacity:1;font-weight:bold}.dd__calendar .dd__body .dd__item.dd--selected.dd--a:not(.dd--b),.dd__calendar .dd__body .dd__item.dd--selected.dd--b:not(.dd--a){background-color:var(--dd-range)}.dd__calendar .dd__body .dd__item:not(.dd--selected).dd--disabled .dd--value{text-decoration:line-through;opacity:0.5}.dd__calendar .dd__body .dd__item:not(.dd--selected):not(.dd--disabled){cursor:pointer}.dd__calendar .dd__body .dd__item:not(.dd--selected):not(.dd--disabled).dd--placeholder .dd--value{opacity:0.5}.dd__calendar .dd__body .dd__item:not(.dd--selected):not(.dd--disabled).dd--point{background-color:var(--dd-range);border-radius:0}.dd__calendar .dd__body .dd__item:not(.dd--selected):not(.dd--disabled):not(.dd--selected).dd--today{text-decoration:underline}.dd__calendar .dd__body .dd__item:not(.dd--selected):not(.dd--disabled):not(.dd--selected).dd--weekend{color:var(--dd-primary)}.dd__calendar .dd__body .dd__item:not(.dd--selected):not(.dd--disabled):not(.dd--selected):hover{border-color:currentColor;border-style:dashed}.dd__dialog{position:absolute;top:0;left:0;width:100%;height:100%;overflow-y:auto;display:flex;flex-wrap:wrap;align-items:inherit;padding:0.25em;border-radius:var(--dd-radius);background-color:var(--dd-background);z-index:2;transform:translateY(1em)}.dd__dialog .dd__item{flex:0 0 46%;max-width:46%;margin:2%;border-radius:0.35em;padding:1em;font-size:1.25em;font-weight:bold;background-color:rgba(0,0,0,0.05);cursor:pointer;display:flex;align-items:center;justify-content:center;border:1px solid transparent;transform:translateY(1em)}.dd__dialog .dd__item.dd--shown{transform:translateY(0)}.dd__dialog .dd__item:hover{background-color:rgba(0,0,0,0.1)}.dd__dialog.dd--shown{transform:translateY(0)}.dd__expandButton{position:absolute;bottom:0.5em;right:0.5em;width:2.5em;height:2.5em;display:flex;align-items:center;justify-content:center;border-radius:0.35em;background-color:var(--dd-background);box-shadow:0 0 1em rgba(0,0,0,0.15);transition:box-shadow 0.6s cubic-bezier(0.165,0.84,0.44,1),transform 0.6s cubic-bezier(0.165,0.84,0.44,1);cursor:pointer}.dd__expandButton:hover{box-shadow:0 0 0.5em rgba(0,0,0,0.2);transform:scale(0.95)}.dd__expandButton:active{transform:scale(0.9)}.dd__overlay{position:fixed;top:0;left:0;z-index:1;width:100%;height:100%;z-index:2147483646;background-color:var(--dd-overlay)}.dd__dropdown{background-color:var(--dd-background);color:var(--dd-text1);border-radius:var(--dd-radius);box-shadow:var(--dd-shadow);margin:0;padding:0;list-style:none;font-size:16px}.dd__dropdown,.dd__dropdown *{box-sizing:border-box;-webkit-user-select:none;user-select:none;font-family:"Helvetica Neue",sans-serif;-webkit-tap-highlight-color:transparent;text-align:center;touch-action:manipulation;line-height:1.2}.dd__dropdown :focus-visible{outline:var(--dd-outline)}.dd__dropdown>.dd__header{display:flex;align-items:center;justify-content:center;padding:0.5em 1em;gap:0.25em}.dd__dropdown>.dd__header .dd__nav{flex-shrink:0;width:2rem;height:2rem;display:flex;align-items:center;justify-content:center;opacity:0.85;background:rgba(0,0,0,0.1);border-radius:50%}.dd__dropdown>.dd__header .dd__nav:hover{opacity:1}.dd__dropdown>.dd__header .dd__views{flex:1;display:flex;align-items:center;justify-content:center;flex-direction:column;font-size:0.75em}.dd__dropdown>.dd__header .dd__view{transition:opacity 0.3s ease}.dd__dropdown>.dd__header .dd__view:hover{opacity:0.85}.dd__dropdown>.dd__header [data-key=m]{font-weight:bold;font-size:1.25rem}.dd__dropdown:not(.dd--shown){pointer-events:none}.dd__dropdown.dd--inline{min-width:16em}.dd__dropdown:not(.dd--inline){position:absolute;z-index:2147483647;width:11em;transform:translateY(-1em) translateX(-50%)}.dd__dropdown:not(.dd--inline).dd--shown{transform:translateY(0) translateX(-50%)}@media (max-height:480px),(max-width:480px){.dd__dropdown:not(.dd--inline){position:fixed!important;top:50%!important;left:50%!important;transform:translate(-50%,-50%)!important}}.dd__dropdown:not(.dd--inline).dd--expanded{width:20em}.dd__dropdown:not(.dd--inline).dd--expanded.dd--doubleView{width:40em}.dd__dropdown:not(.dd--inline).dd--expanded.dd--doubleView .dd__calendar>div{flex:0 0 50%}.dd__dropdown:not(.dd--handles-hidden) .dd__nav{opacity:0.5;visibility:visible}.dd__dropdown.dd--expanded.dd--doubleView .dd--placeholder{opacity:0;visibility:hidden;pointer-events:none}.dd__dropdown.dd--expanded.dd--doubleView .dd__calendar>div:last-of-type{box-shadow:inset 1px 0 var(--dd-borderColor)}.dd__dropdown.dd--expanded .dd--d{display:none}.dd__dropdown.dd--theme-bootstrap{--dd-background:#f8f9fa;--dd-text1:#212529;--dd-text2:var(--dd-background);--dd-primary:#0d6efd;--dd-primaryBackground:var(--dd-primary);--dd-shadow:0 0 0 1px rgba(0,0,0,0.1),0 0 2.5em rgba(0,0,0,0.1);--dd-range:#0d6efd20;--dd-headerBackground:var(--dd-background);--dd-headerText:var(--dd-text1 );--dd-headerBorder:rgba(0,0,0,0.1);--dd-confirmButtonBackground:var(--dd-primaryBackground);--dd-confirmButtonText:var(--dd-text2);--dd-selectedBackground:var(--dd-primaryBackground);--dd-selectedText:var(--dd-text2)}.dd__dropdown.dd--theme-dark{--dd-background:#2f2f2f;--dd-text1:#ffffff;--dd-text2:#ffffff;--dd-primary:#505050;--dd-range:rgba(0,0,0,0.2)}.dd__dropdown.dd--selecting .dd__calendar div:not(.dd--perEnd) .dd--starting:not(.dd--selected),.dd__dropdown.dd--selecting .dd__calendar div:not(.dd--perEnd) .dd--starting~.dd__item:not(.dd--selecting~.dd__item):not(.dd--b~.dd__item),.dd__dropdown.dd--selecting .dd__calendar div:not(.dd--perStart) .dd--starting:not(.dd--selected),.dd__dropdown.dd--selecting .dd__calendar div:not(.dd--perStart) .dd--starting~.dd__item:not(.dd--selecting~.dd__item):not(.dd--b~.dd__item){background-color:var(--dd-range);border-radius:0}.dd__dropdown.dd--selecting .dd__calendar div.dd--perEnd .dd--selected~.dd__item,.dd__dropdown.dd--selecting .dd__calendar div.dd--perStart .dd__item:first-of-type~.dd__item{background-color:var(--dd-range);border-radius:0}.dd__dropdown.dd--preset-onlyMonth .dd__block.dd--m,.dd__dropdown.dd--preset-onlyMonth .dd__header,.dd__dropdown.dd--preset-onlyYear .dd__block.dd--m,.dd__dropdown.dd--preset-onlyYear .dd__header{background:var(--dd-background);color:var(--dd-text1)}.dd__block.dd--m{background:var(--dd-headerBackground);color:var(--dd-headerText);border-bottom:1px solid var(--dd-headerBorder);border-top-left-radius:var(--dd-radius);border-top-right-radius:var(--dd-radius);font-weight:normal}.dd__block.dd--m .dd__view>div{font-size:2em}.dd__block.dd--y{border-top:1px solid var(--dd-borderColor)}.dd__block.dd--y .dd__view>div{font-size:1.5em}.dd--hidden{transition:opacity 0.3s cubic-bezier(0.165,0.84,0.44,1),pointer-events 0.3s cubic-bezier(0.165,0.84,0.44,1),visibility 0.3s cubic-bezier(0.165,0.84,0.44,1),transform 0.3s cubic-bezier(0.165,0.84,0.44,1),width 0.3s cubic-bezier(0.165,0.84,0.44,1),top 0.3s cubic-bezier(0.165,0.84,0.44,1),left 0.3s cubic-bezier(0.165,0.84,0.44,1);opacity:0;will-change:opacity,visibility,transform}.dd--shown{opacity:1}.dd--rumble{animation:dd-rumble 0.4s ease}.dd--w{color:var(--dd-primary)}';e.type="text/css",e.styleSheet?e.styleSheet.cssText=d:e.appendChild(document.createTextNode(d)),document.head.appendChild(e),document.addEventListener("DOMContentLoaded",(()=>{new dateDropper({selector:dateDropperSetup.defaultClass})}))}();